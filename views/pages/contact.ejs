<%- include('../layouts/main') %>

<div class="min-h-screen bg-gradient-to-br from-black via-gray-900 to-black py-12">
    <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-12">
                <img src="/public/images/logo.png" alt="FinClick.AI Logo" class="h-16 w-auto mx-auto mb-6">
                <h1 class="text-4xl font-bold text-gold mb-4">
                    <%= language === 'ar' ? 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§' : 'Contact Us' %>
                </h1>
                <p class="text-xl text-gold/70 max-w-2xl mx-auto">
                    <%= language === 'ar' ?
                        'Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ. ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª ÙˆØ³Ù†ÙƒÙˆÙ† Ø³Ø¹Ø¯Ø§Ø¡ Ø¨Ø®Ø¯Ù…ØªÙƒ ÙˆØ­Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ' :
                        'We are here to help you. Contact us anytime and we will be happy to serve you and answer all your questions'
                    %>
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Contact Form -->
                <div class="bg-gray-900/50 backdrop-blur-sm border border-gold/20 rounded-xl p-8">
                    <h2 class="text-2xl font-bold text-gold mb-6">
                        <%= language === 'ar' ? 'Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø±Ø³Ø§Ù„Ø©' : 'Send us a message' %>
                    </h2>

                    <form action="/api/contact" method="POST" class="space-y-6">
                        <!-- Name & Email -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gold mb-2">
                                    <%= language === 'ar' ? 'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„' : 'Full Name' %> *
                                </label>
                                <input type="text" name="name" required
                                       class="w-full px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-lg text-gold placeholder-gold/50 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold"
                                       placeholder="<%= language === 'ar' ? 'Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„' : 'Enter your full name' %>">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gold mb-2">
                                    <%= language === 'ar' ? 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Email Address' %> *
                                </label>
                                <input type="email" name="email" required
                                       class="w-full px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-lg text-gold placeholder-gold/50 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold"
                                       placeholder="<%= language === 'ar' ? 'Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Enter your email address' %>">
                            </div>
                        </div>

                        <!-- Phone & Company -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gold mb-2">
                                    <%= language === 'ar' ? 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ' : 'Phone Number' %>
                                </label>
                                <div class="flex">
                                    <select name="countryCode" class="px-3 py-3 bg-gray-800/50 border border-gold/30 border-r-0 rounded-l-lg text-gold focus:outline-none focus:border-gold">
                                        <option value="+966">ðŸ‡¸ðŸ‡¦ +966</option>
                                        <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                                        <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
                                        <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
                                    </select>
                                    <input type="tel" name="phone"
                                           class="flex-1 px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-r-lg text-gold placeholder-gold/50 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold"
                                           placeholder="<%= language === 'ar' ? '5xxxxxxxx' : 'Phone number' %>">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gold mb-2">
                                    <%= language === 'ar' ? 'Ø§Ù„Ø´Ø±ÙƒØ©/Ø§Ù„Ù…Ø¤Ø³Ø³Ø©' : 'Company/Organization' %>
                                </label>
                                <input type="text" name="company"
                                       class="w-full px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-lg text-gold placeholder-gold/50 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold"
                                       placeholder="<%= language === 'ar' ? 'Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)' : 'Company name (optional)' %>">
                            </div>
                        </div>

                        <!-- Subject -->
                        <div>
                            <label class="block text-sm font-medium text-gold mb-2">
                                <%= language === 'ar' ? 'Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹' : 'Subject' %> *
                            </label>
                            <select name="subject" required
                                    class="w-full px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-lg text-gold focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold">
                                <option value=""><%= language === 'ar' ? 'Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹' : 'Select subject' %></option>
                                <option value="general"><%= language === 'ar' ? 'Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ø§Ù…' : 'General Inquiry' %></option>
                                <option value="technical"><%= language === 'ar' ? 'Ø¯Ø¹Ù… ØªÙ‚Ù†ÙŠ' : 'Technical Support' %></option>
                                <option value="billing"><%= language === 'ar' ? 'Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ§Ù„Ø¯ÙØ¹' : 'Billing & Payment' %></option>
                                <option value="feature"><%= language === 'ar' ? 'Ø·Ù„Ø¨ Ù…ÙŠØ²Ø© Ø¬Ø¯ÙŠØ¯Ø©' : 'Feature Request' %></option>
                                <option value="partnership"><%= language === 'ar' ? 'Ø´Ø±Ø§ÙƒØ© ØªØ¬Ø§Ø±ÙŠØ©' : 'Business Partnership' %></option>
                                <option value="bug"><%= language === 'ar' ? 'Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©' : 'Bug Report' %></option>
                                <option value="other"><%= language === 'ar' ? 'Ø£Ø®Ø±Ù‰' : 'Other' %></option>
                            </select>
                        </div>

                        <!-- Priority -->
                        <div>
                            <label class="block text-sm font-medium text-gold mb-2">
                                <%= language === 'ar' ? 'Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©' : 'Priority' %>
                            </label>
                            <div class="flex space-x-4">
                                <label class="flex items-center">
                                    <input type="radio" name="priority" value="low" class="text-gold focus:ring-gold" checked>
                                    <span class="ml-2 text-gold/80"><%= language === 'ar' ? 'Ù…Ù†Ø®ÙØ¶Ø©' : 'Low' %></span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="priority" value="medium" class="text-gold focus:ring-gold">
                                    <span class="ml-2 text-gold/80"><%= language === 'ar' ? 'Ù…ØªÙˆØ³Ø·Ø©' : 'Medium' %></span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="priority" value="high" class="text-gold focus:ring-gold">
                                    <span class="ml-2 text-gold/80"><%= language === 'ar' ? 'Ø¹Ø§Ù„ÙŠØ©' : 'High' %></span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="priority" value="urgent" class="text-gold focus:ring-gold">
                                    <span class="ml-2 text-gold/80"><%= language === 'ar' ? 'Ø¹Ø§Ø¬Ù„Ø©' : 'Urgent' %></span>
                                </label>
                            </div>
                        </div>

                        <!-- Message -->
                        <div>
                            <label class="block text-sm font-medium text-gold mb-2">
                                <%= language === 'ar' ? 'Ø§Ù„Ø±Ø³Ø§Ù„Ø©' : 'Message' %> *
                            </label>
                            <textarea name="message" rows="6" required
                                      class="w-full px-4 py-3 bg-gray-800/50 border border-gold/30 rounded-lg text-gold placeholder-gold/50 focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold resize-vertical"
                                      placeholder="<%= language === 'ar' ? 'Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§... (500 Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)' : 'Write your message here... (minimum 500 characters)' %>"></textarea>
                            <p class="text-sm text-gold/60 mt-1">
                                <span id="messageCount">0</span> / 2000 <%= language === 'ar' ? 'Ø­Ø±Ù' : 'characters' %>
                            </p>
                        </div>

                        <!-- File Upload -->
                        <div>
                            <label class="block text-sm font-medium text-gold mb-2">
                                <%= language === 'ar' ? 'Ù…Ø±ÙÙ‚Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)' : 'Attachments (optional)' %>
                            </label>
                            <div class="border-2 border-dashed border-gold/30 rounded-lg p-6 text-center">
                                <input type="file" name="attachments" multiple accept=".pdf,.doc,.docx,.jpg,.png,.xlsx,.xls" class="hidden" id="fileUpload">
                                <label for="fileUpload" class="cursor-pointer">
                                    <i class="fas fa-cloud-upload-alt text-3xl text-gold/60 mb-2"></i>
                                    <p class="text-gold/80">
                                        <%= language === 'ar' ? 'Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡Ø§ Ù‡Ù†Ø§' : 'Click to upload files or drag them here' %>
                                    </p>
                                    <p class="text-sm text-gold/60 mt-1">
                                        <%= language === 'ar' ? 'Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: PDF, Word, Excel, Ø§Ù„ØµÙˆØ± (Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10 Ù…ÙŠØ¬Ø§ Ù„ÙƒÙ„ Ù…Ù„Ù)' : 'Supported: PDF, Word, Excel, Images (max 10MB per file)' %>
                                    </p>
                                </label>
                            </div>
                        </div>

                        <!-- Submit -->
                        <button type="submit"
                                class="w-full bg-gradient-to-r from-gold to-yellow-400 text-black font-bold py-3 px-6 rounded-lg hover:from-yellow-400 hover:to-gold transition-all duration-300 transform hover:scale-105 glow-effect">
                            <i class="fas fa-paper-plane mr-2"></i>
                            <%= language === 'ar' ? 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©' : 'Send Message' %>
                        </button>
                    </form>
                </div>

                <!-- Contact Information -->
                <div class="space-y-8">
                    <!-- Contact Cards -->
                    <div class="grid grid-cols-1 gap-6">
                        <!-- Main Office -->
                        <div class="bg-gray-900/50 backdrop-blur-sm border border-gold/20 rounded-xl p-6">
                            <div class="flex items-start space-x-4">
                                <div class="w-12 h-12 bg-gold/20 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-map-marker-alt text-gold text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gold mb-2">
                                        <%= language === 'ar' ? 'Ø§Ù„Ù…ÙƒØªØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ' : 'Main Office' %>
                                    </h3>
                                    <p class="text-gold/80">
                                        <%= language === 'ar' ?
                                            'Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©<br>Ø¬Ø¯Ø© - Ø­ÙŠ Ø§Ù„Ø£Ù†Ø¯Ù„Ø³<br>Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ' :
                                            'Kingdom of Saudi Arabia<br>Jeddah - Al Andalus District<br>Business Commercial Complex'
                                        %>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Phone -->
                        <div class="bg-gray-900/50 backdrop-blur-sm border border-gold/20 rounded-xl p-6">
                            <div class="flex items-start space-x-4">
                                <div class="w-12 h-12 bg-gold/20 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-phone text-gold text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gold mb-2">
                                        <%= language === 'ar' ? 'Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨' : 'Phone & WhatsApp' %>
                                    </h3>
                                    <p class="text-gold/80">
                                        <a href="tel:+966544827213" class="hover:text-gold">+966 544 827 213</a><br>
                                        <a href="https://wa.me/966544827213" class="hover:text-gold text-green-400" target="_blank">
                                            <i class="fab fa-whatsapp mr-1"></i>
                                            <%= language === 'ar' ? 'Ø±Ø§Ø³Ù„Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨' : 'Message us on WhatsApp' %>
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="bg-gray-900/50 backdrop-blur-sm border border-gold/20 rounded-xl p-6">
                            <div class="flex items-start space-x-4">
                                <div class="w-12 h-12 bg-gold/20 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-envelope text-gold text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gold mb-2">
                                        <%= language === 'ar' ? 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Email Addresses' %>
                                    </h3>
                                    <div class="space-y-2 text-gold/80">
                                        <p><strong><%= language === 'ar' ? 'Ø¹Ø§Ù…:' : 'General:' %></strong> <a href="mailto:info@finclick.ai" class="hover:text-gold">info@finclick.ai</a></p>
                                        <p><strong><%= language === 'ar' ? 'Ø¯Ø¹Ù…:' : 'Support:' %></strong> <a href="mailto:support@finclick.ai" class="hover:text-gold">support@finclick.ai</a></p>
                                        <p><strong><%= language === 'ar' ? 'Ù…Ø¨ÙŠØ¹Ø§Øª:' : 'Sales:' %></strong> <a href="mailto:sales@finclick.ai" class="hover:text-gold">sales@finclick.ai</a></p>
                                        <p><strong><%= language === 'ar' ? 'Ø´Ø±Ø§ÙƒØ§Øª:' : 'Partnerships:' %></strong> <a href="mailto:partnerships@finclick.ai" class="hover:text-gold">partnerships@finclick.ai</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Social Media -->
                        <div class="bg-gray-900/50 backdrop-blur-sm border border-gold/20 rounded-xl p-6">
                            <div class="flex items-start space-x-4">
                                <div class="w-12 h-12 bg-gold/20 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-share-alt text-gold text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gold mb-4">
                                        <%= language === 'ar' ? 'ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰' : 'Follow us on' %>
                                    </h3>
                                    <div class="grid grid-cols-3 gap-4">
                                        <a href="https://twitter.com/finclickai" target="_blank" class="flex items-center justify-center p-3 bg-blue-500/20 rounded-lg text-blue-400 hover:bg-blue-500/30">
                                            <i class="fab fa-twitter text-xl"></i>
                                        </a>
                                        <a href="https://linkedin.com/company/finclickai" target="_blank" class="flex items-center justify-center p-3 bg-blue-600/20 rounded-lg text-blue-500 hover:bg-blue-600/30">
                                            <i class="fab fa-linkedin text-xl"></i>
                                        </a>
                                        <a href="https://instagram.com/finclickai" target="_blank" class="flex items-center justify-center p-3 bg-pink-500/20 rounded-lg text-pink-400 hover:bg-pink-500/30">
                                            <i class="fab fa-instagram text-xl"></i>
                                        </a>
                                        <a href="https://t.me/finclickai" target="_blank" class="flex items-center justify-center p-3 bg-blue-400/20 rounded-lg text-blue-300 hover:bg-blue-400/30">
                                            <i class="fab fa-telegram text-xl"></i>
                                        </a>
                                        <a href="https://snapchat.com/add/finclickai" target="_blank" class="flex items-center justify-center p-3 bg-yellow-400/20 rounded-lg text-yellow-300 hover:bg-yellow-400/30">
                                            <i class="fab fa-snapchat text-xl"></i>
                                        </a>
                                        <a href="https://tiktok.com/@finclickai" target="_blank" class="flex items-center justify-center p-3 bg-black/40 rounded-lg text-white hover:bg-black/60">
                                            <i class="fab fa-tiktok text-xl"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Response Time -->
                    <div class="bg-gradient-to-r from-gold/10 to-yellow-400/10 border border-gold/30 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gold mb-3">
                            <%= language === 'ar' ? 'Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©' : 'Response Times' %>
                        </h3>
                        <div class="space-y-2 text-gold/80">
                            <p><strong><%= language === 'ar' ? 'Ø¹Ø§Ø¬Ù„:' : 'Urgent:' %></strong> <%= language === 'ar' ? 'Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø©' : 'Within 1 hour' %></p>
                            <p><strong><%= language === 'ar' ? 'Ø¹Ø§Ù„ÙŠØ©:' : 'High:' %></strong> <%= language === 'ar' ? 'Ø®Ù„Ø§Ù„ 4 Ø³Ø§Ø¹Ø§Øª' : 'Within 4 hours' %></p>
                            <p><strong><%= language === 'ar' ? 'Ù…ØªÙˆØ³Ø·Ø©:' : 'Medium:' %></strong> <%= language === 'ar' ? 'Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©' : 'Within 24 hours' %></p>
                            <p><strong><%= language === 'ar' ? 'Ù…Ù†Ø®ÙØ¶Ø©:' : 'Low:' %></strong> <%= language === 'ar' ? 'Ø®Ù„Ø§Ù„ 48 Ø³Ø§Ø¹Ø©' : 'Within 48 hours' %></p>
                        </div>
                    </div>

                    <!-- Business Hours -->
                    <div class="bg-gray-900/30 border border-gold/10 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-gold mb-3">
                            <%= language === 'ar' ? 'Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„' : 'Business Hours' %>
                        </h3>
                        <div class="space-y-2 text-gold/80 text-sm">
                            <p><%= language === 'ar' ? 'Ø§Ù„Ø£Ø­Ø¯ - Ø§Ù„Ø®Ù…ÙŠØ³: 9:00 ØµØ¨Ø§Ø­Ø§Ù‹ - 6:00 Ù…Ø³Ø§Ø¡Ù‹ (Øª.Ø³)' : 'Sunday - Thursday: 9:00 AM - 6:00 PM (AST)' %></p>
                            <p><%= language === 'ar' ? 'Ø§Ù„Ø¬Ù…Ø¹Ø©: 2:00 Ù…Ø³Ø§Ø¡Ù‹ - 6:00 Ù…Ø³Ø§Ø¡Ù‹ (Øª.Ø³)' : 'Friday: 2:00 PM - 6:00 PM (AST)' %></p>
                            <p><%= language === 'ar' ? 'Ø§Ù„Ø³Ø¨Øª: Ù…ØºÙ„Ù‚' : 'Saturday: Closed' %></p>
                            <p class="text-gold"><%= language === 'ar' ? 'Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ØªÙ‚Ù†ÙŠ Ù…ØªØ§Ø­ 24/7' : '24/7 Technical Support Available' %></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Message character counter
    const messageTextarea = document.querySelector('textarea[name="message"]');
    const messageCount = document.getElementById('messageCount');

    messageTextarea.addEventListener('input', function() {
        const count = this.value.length;
        messageCount.textContent = count;

        if (count < 500) {
            messageCount.className = 'text-red-400';
        } else if (count < 1000) {
            messageCount.className = 'text-yellow-400';
        } else {
            messageCount.className = 'text-green-400';
        }
    });

    // File upload handling
    const fileUpload = document.getElementById('fileUpload');
    const uploadLabel = fileUpload.nextElementSibling;

    fileUpload.addEventListener('change', function() {
        const files = Array.from(this.files);
        if (files.length > 0) {
            const fileNames = files.map(file => file.name).join(', ');
            uploadLabel.innerHTML = `
                <i class="fas fa-check-circle text-2xl text-green-400 mb-2"></i>
                <p class="text-green-400">${files.length} <%= language === 'ar' ? 'Ù…Ù„Ù Ù…Ø­Ø¯Ø¯' : 'file(s) selected' %></p>
                <p class="text-sm text-gold/60 mt-1">${fileNames.length > 50 ? fileNames.substring(0, 50) + '...' : fileNames}</p>
            `;
        }
    });

    // Form submission
    const form = document.querySelector('form');
    form.addEventListener('submit', function(e) {
        e.preventDefault();

        const messageLength = messageTextarea.value.length;
        if (messageLength < 500) {
            alert('<%= language === "ar" ? "ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø±Ø³Ø§Ù„Ø© Ù…Ù† 500 Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„" : "Please write a message of at least 500 characters" %>');
            return;
        }

        // Show loading state
        const submitButton = form.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;
        submitButton.innerHTML = '<i class="fas fa-spinner animate-spin mr-2"></i><%= language === "ar" ? "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..." : "Sending..." %>';
        submitButton.disabled = true;

        // Simulate form submission (replace with actual submission)
        setTimeout(() => {
            alert('<%= language === "ar" ? "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª." : "Your message has been sent successfully! We will get back to you soon." %>');
            form.reset();
            messageCount.textContent = '0';
            messageCount.className = '';
            submitButton.innerHTML = originalText;
            submitButton.disabled = false;

            // Reset file upload display
            uploadLabel.innerHTML = `
                <i class="fas fa-cloud-upload-alt text-3xl text-gold/60 mb-2"></i>
                <p class="text-gold/80"><%= language === 'ar' ? 'Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡Ø§ Ù‡Ù†Ø§' : 'Click to upload files or drag them here' %></p>
                <p class="text-sm text-gold/60 mt-1"><%= language === 'ar' ? 'Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: PDF, Word, Excel, Ø§Ù„ØµÙˆØ± (Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10 Ù…ÙŠØ¬Ø§ Ù„ÙƒÙ„ Ù…Ù„Ù)' : 'Supported: PDF, Word, Excel, Images (max 10MB per file)' %></p>
            `;
        }, 2000);
    });
});
</script>