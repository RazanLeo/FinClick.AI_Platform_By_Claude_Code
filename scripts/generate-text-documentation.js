#!/usr/bin/env node

/**
 * FinClick.AI Documentation Generator
 * Creates comprehensive system documentation in text format
 */

const fs = require('fs');
const path = require('path');

class FinClickDocumentationGenerator {
    constructor() {
        this.documentation = '';
        this.currentDate = new Date().toLocaleDateString('ar-SA');
    }

    addSection(title, content) {
        this.documentation += `\n${'='.repeat(80)}\n`;
        this.documentation += `${title}\n`;
        this.documentation += `${'='.repeat(80)}\n\n`;
        this.documentation += content;
        this.documentation += '\n\n';
    }

    addSubSection(title, content) {
        this.documentation += `${'-'.repeat(60)}\n`;
        this.documentation += `${title}\n`;
        this.documentation += `${'-'.repeat(60)}\n\n`;
        this.documentation += content;
        this.documentation += '\n\n';
    }

    generate() {
        // Header
        this.addSection('FinClick.AI - ููุตุฉ ุงูุชุญููู ุงููุงูู ุงูุซูุฑูุฉ',
            `ุชุงุฑูุฎ ุงูุชูุซูู: ${this.currentDate}
ุงูุฅุตุฏุงุฑ: 1.0.0
ุงููุทูุฑ: Razan Ahmed Tawfik
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: razantaofek@gmail.com

ููุตุฉ FinClick.AI ูู ููุตุฉ SaaS ุซูุฑูุฉ ููุชุญููู ุงููุงูู ุชุญุชูู ุนูู 180+ ููุน ุชุญููู ูุงูู
ูุน ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู ููุธุงู ุฏูุน ูุชูุงูู ูุชูุงุฑูุฑ ุงุญุชุฑุงููุฉ ุจุนุฏุฉ ุตูุบ.

ุงูููุตุฉ ุฌุงูุฒุฉ ุจุงููุงูู ููุงุณุชุฎุฏุงู ุงูุชุฌุงุฑู ูุงููุดุฑ ุนูู ุงูุฅูุชุฑูุช.`
        );

        // System Architecture
        this.addSection('ูุนูุงุฑูุฉ ุงููุธุงู',
            `1. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend):
   - Node.js + Express.js
   - EJS Templates ูุน ุฏุนู ุซูุงุฆู ุงููุบุฉ (ุงูุนุฑุจูุฉ/ุงูุฅูุฌููุฒูุฉ)
   - Bootstrap 5 ูุน ุฏุนู RTL
   - Chart.js ููุฑุณูู ุงูุจูุงููุฉ
   - jQuery ููุชูุงุนูุงุช ุงูุฏููุงููููุฉ

2. ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend):
   - Node.js + Express.js REST API
   - JWT ูููุตุงุฏูุฉ ูุงูุชุฎููู
   - Multer ูุฑูุน ุงููููุงุช
   - BCrypt ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
   - Rate Limiting ููุญูุงูุฉ ูู ุงููุฌูุงุช

3. ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   - Supabase PostgreSQL
   - Row Level Security (RLS)
   - Audit Logging ุชููุงุฆู
   - ูุณุฎ ุงุญุชูุงุทูุฉ ุขููุฉ

4. ุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู:
   - OpenAI GPT-4 ููุชุญููู ุงููุชูุฏู
   - Google Gemini ูููุตุงุฆุญ ูุงูุชูุตูุงุช
   - Tesseract.js ููุนุงูุฌุฉ OCR

5. ุฎุฏูุงุช ุฎุงุฑุฌูุฉ:
   - PayTabs ููุฏูุน ุงูุฅููุชุฑููู
   - Financial Modeling Prep API
   - Alpha Vantage API
   - ุงููุฏุฑุฉ ุนูู ุงูุชูุงูู ูุน ุฃู API ูุงูู

6. ุฅูุชุงุฌ ุงูุชูุงุฑูุฑ:
   - PDFKit ููุชูุงุฑูุฑ PDF
   - ExcelJS ูููููุงุช Excel
   - DOCX ููููุงุช Word
   - PptxGenJS ูุนุฑูุถ PowerPoint`
        );

        // Analysis Lifecycle
        this.addSection('ุฏูุฑุฉ ุญูุงุฉ ุงูุชุญููู ุงููุงูู',
            `ุงููุฑุญูุฉ 1: ุฑูุน ุงููุซุงุฆู
   - ุฏุนู ูููุงุช PDF, DOCX, XLSX, ุตูุฑ
   - ูุนุงูุฌุฉ OCR ุชููุงุฆูุฉ ูููุณุชูุฏุงุช
   - ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุงููุงููุฉ ุขููุงู
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

ุงููุฑุญูุฉ 2: ุชุญุฏูุฏ ููุน ุงูุชุญููู
   - 180+ ููุน ุชุญููู ูุงูู
   - ุชุตููู ุญุณุจ ุงููุทุงุน ูุงููุดุงุท
   - ุงุฎุชูุงุฑ ูุชูุฏู ุญุณุจ ููุน ุงูููุงู
   - ุชุฎุตูุต ูุนุงููุฑ ุงูุชุญููู

ุงููุฑุญูุฉ 3: ูุนุงูุฌุฉ ุงูุจูุงูุงุช
   - ุชูุธูู ูุชุตุญูุญ ุงูุจูุงูุงุช
   - ุญุณุงุจ ุงููุณุจ ุงููุงููุฉ
   - ุชุทุจูู ุงููุนุงููุฑ ุงููุญุงุณุจูุฉ
   - ุงูุชุญูู ูู ุงูุงุชุณุงู

ุงููุฑุญูุฉ 4: ุงูุชุญููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
   - ุชุญููู ุงูุงุชุฌุงูุงุช ูุงูุฃููุงุท
   - ููุงุฑูุฉ ูุน ูุนุงููุฑ ุงูุตูุงุนุฉ
   - ุชุญุฏูุฏ ููุงุท ุงูููุฉ ูุงูุถุนู
   - ุชูููุฏ ุงูุชูุตูุงุช

ุงููุฑุญูุฉ 5: ุฅูุชุงุฌ ุงูุชูุฑูุฑ
   - ุชูุฑูุฑ ุดุงูู ุจุนุฏุฉ ุตูุบ
   - ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ
   - ููุฎุต ุชูููุฐู
   - ุฎุทุฉ ุนูู ููุชุฑุญุฉ

ุงููุฑุญูุฉ 6: ุงููุชุงุจุนุฉ ูุงููุฑุงูุจุฉ
   - ุชุญุฏูุซ ุฏูุฑู ููุจูุงูุงุช
   - ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุงููุงูู
   - ุชูุจููุงุช ุฐููุฉ
   - ุชูุงุฑูุฑ ููุงุฑูุฉ ุฒูููุฉ`
        );

        // Database Schema
        this.addSection('ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช',
            `ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ:

1. ุฌุฏูู ุงููุณุชุฎุฏููู (users):
   - id, email, password_hash, full_name
   - user_type (individual/company)
   - subscription_id, created_at, updated_at

2. ุฌุฏูู ุงูุงุดุชุฑุงูุงุช (subscriptions):
   - id, user_id, plan_type, status
   - start_date, end_date, features

3. ุฌุฏูู ุงููุซุงุฆู (documents):
   - id, user_id, filename, file_path
   - file_type, upload_date, ocr_status

4. ุฌุฏูู ุงูุชุญุงููู (analyses):
   - id, user_id, document_id, analysis_type
   - input_data, results, status, created_at

5. ุฌุฏูู ุงูุชูุงุฑูุฑ (reports):
   - id, analysis_id, format, file_path
   - generation_date, status

6. ุฌุฏูู ุงููุฏููุนุงุช (payments):
   - id, user_id, amount, currency
   - payment_method, status, paytabs_reference

7. ุฌุฏูู ูุฑุงุฌุนุฉ ุงูุนูููุงุช (audit_logs):
   - id, user_id, action, resource_type
   - resource_id, details, ip_address, timestamp

ุณูุงุณุงุช ุงูุฃูุงู (RLS):
- ูู ูุณุชุฎุฏู ููููู ุงููุตูู ูุจูุงูุงุชู ููุท
- ุงููุฏุฑุงุก ููู ุตูุงุญูุงุช ุนุฑุถ ุฌููุน ุงูุจูุงูุงุช
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุณุฉ`
        );

        // Analysis Types
        this.addSection('ุฃููุงุน ุงูุชุญุงููู ุงููุงููุฉ (180+ ููุน)',
            `ุงูุชุญููู ุงูุฃุณุงุณู ุงูููุงุณููู (106 ุชุญููู):

ูุณุจ ุงูุณูููุฉ:
โข ูุณุจุฉ ุงูุณูููุฉ ุงูุณุฑูุนุฉ = (ุงูุฃุตูู ุงููุชุฏุงููุฉ - ุงููุฎุฒูู) / ุงูุฎุตูู ุงููุชุฏุงููุฉ
โข ูุณุจุฉ ุงูุณูููุฉ ุงูุญุงููุฉ = ุงูุฃุตูู ุงููุชุฏุงููุฉ / ุงูุฎุตูู ุงููุชุฏุงููุฉ
โข ูุณุจุฉ ุงูุณูููุฉ ุงูููุฏูุฉ = ุงูููุฏ + ุงูุงุณุชุซูุงุฑุงุช ูุตูุฑุฉ ุงููุฏู / ุงูุฎุตูู ุงููุชุฏุงููุฉ
โข ุฑุฃุณ ุงููุงู ุงูุนุงูู = ุงูุฃุตูู ุงููุชุฏุงููุฉ - ุงูุฎุตูู ุงููุชุฏุงููุฉ

ูุณุจ ุงูุฑุจุญูุฉ:
โข ูุงูุด ุงูุฑุจุญ ุงูุฅุฌูุงูู = (ุงููุจูุนุงุช - ุชูููุฉ ุงูุจุถุงุนุฉ ุงููุจุงุนุฉ) / ุงููุจูุนุงุช ร 100
โข ูุงูุด ุงูุฑุจุญ ุงูุชุดุบููู = ุงูุฑุจุญ ุงูุชุดุบููู / ุงููุจูุนุงุช ร 100
โข ูุงูุด ุงูุฑุจุญ ุงูุตุงูู = ุตุงูู ุงูุฑุจุญ / ุงููุจูุนุงุช ร 100
โข ุงูุนุงุฆุฏ ุนูู ุงูุฃุตูู (ROA) = ุตุงูู ุงูุฑุจุญ / ุฅุฌูุงูู ุงูุฃุตูู ร 100
โข ุงูุนุงุฆุฏ ุนูู ุญููู ุงูููููุฉ (ROE) = ุตุงูู ุงูุฑุจุญ / ุญููู ุงููุณุงูููู ร 100

ูุณุจ ุงููุดุงุท:
โข ูุนุฏู ุฏูุฑุงู ุงููุฎุฒูู = ุชูููุฉ ุงูุจุถุงุนุฉ ุงููุจุงุนุฉ / ูุชูุณุท ุงููุฎุฒูู
โข ูุนุฏู ุฏูุฑุงู ุงูุฐูู ุงููุฏููุฉ = ุงููุจูุนุงุช ุงูุขุฌูุฉ / ูุชูุณุท ุงูุฐูู ุงููุฏููุฉ
โข ูุนุฏู ุฏูุฑุงู ุงูุฃุตูู = ุงููุจูุนุงุช / ุฅุฌูุงูู ุงูุฃุตูู
โข ูุชุฑุฉ ุงูุชุญุตูู = ุงูุฐูู ุงููุฏููุฉ / (ุงููุจูุนุงุช รท 365)

ูุณุจ ุงูุฑุงูุนุฉ ุงููุงููุฉ:
โข ูุณุจุฉ ุงูุฏูู ุฅูู ุญููู ุงูููููุฉ = ุฅุฌูุงูู ุงูุฏููู / ุญููู ุงููุณุงูููู
โข ูุณุจุฉ ุชุบุทูุฉ ุงูููุงุฆุฏ = ุงูุฑุจุญ ูุจู ุงูููุงุฆุฏ ูุงูุถุฑุงุฆุจ / ูุตุฑูู ุงูููุงุฆุฏ
โข ูุณุจุฉ ุชุบุทูุฉ ุฎุฏูุฉ ุงูุฏูู = ุงูุชุฏูู ุงูููุฏู ุงูุชุดุบููู / ุฅุฌูุงูู ุฎุฏูุฉ ุงูุฏูู

ุงูุชุญููู ุงูุชุทุจููู ุงููุชูุณุท (21 ุชุญููู):

ุชุญููู ุงูุชุฏููุงุช ุงูููุฏูุฉ:
โข ุงูุชุฏูู ุงูููุฏู ุงูุญุฑ = ุงูุชุฏูู ุงูููุฏู ุงูุชุดุบููู - ุงููููุงุช ุงูุฑุฃุณูุงููุฉ
โข ูุณุจุฉ ุงูุชุฏูู ุงูููุฏู ููุฏููู = ุงูุชุฏูู ุงูููุฏู ุงูุชุดุบููู / ุฅุฌูุงูู ุงูุฏููู
โข ููุงุกุฉ ุชุญููู ุงูููุฏ = ุงูุชุฏูู ุงูููุฏู ุงูุชุดุบููู / ุตุงูู ุงูุฑุจุญ

ุชุญููู ุงููููุฉ ุงููุถุงูุฉ:
โข ุงููููุฉ ุงูุงูุชุตุงุฏูุฉ ุงููุถุงูุฉ (EVA)
โข ุงููููุฉ ุงูุณูููุฉ ุงููุถุงูุฉ (MVA)
โข ุงูุนุงุฆุฏ ุนูู ุฑุฃุณ ุงููุงู ุงููุณุชุซูุฑ (ROIC)

ุงูุชุญููู ุงููุชูุฏู ูุงููุนูุฏ (53 ุชุญููู):

ุงูููุงุฐุฌ ุงููุงููุฉ ุงููุชูุฏูุฉ:
โข ูููุฐุฌ ุงูุชูููู ุจุงูุชุฏููุงุช ุงูููุฏูุฉ ุงููุฎุตููุฉ (DCF)
โข ูููุฐุฌ ุชูููู ุงูุฃุตูู ุงูุฑุฃุณูุงููุฉ (CAPM)
โข ุชุญููู ุงูุญุณุงุณูุฉ ูุงูุณููุงุฑูููุงุช
โข ููุงุฐุฌ Monte Carlo ูููุฎุงุทุฑ

ุชุญููู ุงูุฃุฏุงุก ุงูููุงุฑู:
โข ููุงุฑูุฉ ูุน ูุชูุณุท ุงูุตูุงุนุฉ
โข ุชุญููู ุงูุดุฑูุงุช ุงูููุงุซูุฉ
โข ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ (KPIs)
โข ุชุญููู ุงูุงูุญุฏุงุฑ ูุงูุงุฑุชุจุงุท

ุงูุชุญููู ุงูุงุณุชุฑุงุชูุฌู:
โข ุชุญููู SWOT ุงููุงูู
โข ุชุญููู ุณูุณูุฉ ุงููููุฉ
โข ุชุญููู ุฏูุฑุฉ ุญูุงุฉ ุงูููุชุฌ ุงููุงููุฉ
โข ููุงุฐุฌ ุงูููู ุงููุณุชุฏุงู`
        );

        // Output Formats
        this.addSection('ุตูุบ ุงููุฎุฑุฌุงุช ูุงูุชูุงุฑูุฑ',
            `1. ุชูุงุฑูุฑ PDF:
   - ุชุตููู ุงุญุชุฑุงูู ุซูุงุฆู ุงููุบุฉ
   - ุฑุณูู ุจูุงููุฉ ุนุงููุฉ ุงูุฏูุฉ
   - ุฌุฏุงูู ููุตูุฉ ูููุณูุฉ
   - ููุฎุต ุชูููุฐู ูุชูุตูุงุช

2. ูููุงุช Excel:
   - ุฌุฏุงูู ุจูุงูุงุช ุชูุงุนููุฉ
   - ุญุณุงุจุงุช ุฏููุงููููุฉ
   - ุฑุณูู ุจูุงููุฉ ูุชูุฏูุฉ
   - ููุงูุจ ูุงุจูุฉ ููุชุฎุตูุต

3. ูุณุชูุฏุงุช Word:
   - ุชูุงุฑูุฑ ูุตูุฉ ููุตูุฉ
   - ุชูุณูู ุงุญุชุฑุงูู
   - ุฅููุงููุฉ ุงูุชุนุฏูู ูุงูุชุฎุตูุต
   - ุฏุนู RTL ูููุตูุต ุงูุนุฑุจูุฉ

4. ุนุฑูุถ PowerPoint:
   - ุดุฑุงุฆุญ ุงุญุชุฑุงููุฉ
   - ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ
   - ููุฎุตุงุช ุจุตุฑูุฉ
   - ููุงูุจ ููุนุฑูุถ ุงูุชูุฏูููุฉ

5. ููุญุงุช ุชุญูู ุชูุงุนููุฉ:
   - ุฑุณูู ุจูุงููุฉ ุญูุฉ
   - ูุคุดุฑุงุช ุฃุฏุงุก ููุฑูุฉ
   - ุชุญุฏูุซ ุขูู ููุจูุงูุงุช
   - ุชุฎุตูุต ุงูุนุฑุถ

6. ุชูุงุฑูุฑ API:
   - JSON ููุชูุงูู ูุน ุฃูุธูุฉ ุฃุฎุฑู
   - XML ููุชุจุงุฏู ุงููุนูุงุฑู
   - CSV ููุชุญููู ุงูุฅุญุตุงุฆู
   - ุงูุชุตุฏูุฑ ุงููุจุงุดุฑ`
        );

        // Environment Configuration
        this.addSection('ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุดุบูู',
            `ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ:

# ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# JWT ูุงูุฃูุงู
JWT_SECRET=your-jwt-secret-key-here
ENCRYPTION_KEY=your-encryption-key-32-chars

# ุงูุฐูุงุก ุงูุงุตุทูุงุนู
OPENAI_API_KEY=sk-your-openai-api-key
GEMINI_API_KEY=your-gemini-api-key

# ุงูุจูุงูุงุช ุงููุงููุฉ
FINANCIAL_MODELING_PREP_API_KEY=your-fmp-api-key
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-key
YAHOO_FINANCE_API_KEY=your-yahoo-finance-key

# ุงููุฏููุนุงุช PayTabs
PAYTABS_PROFILE_ID=your-paytabs-profile-id
PAYTABS_SERVER_KEY=your-paytabs-server-key
PAYTABS_BASE_URL=https://secure-global.paytabs.com

# ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
NODE_ENV=production
PORT=3000
BASE_URL=https://finclick-ai.vercel.app
SESSION_SECRET=your-session-secret

# ุฑูุน ุงููููุงุช
MAX_FILE_SIZE=50MB
ALLOWED_FILE_TYPES=pdf,docx,xlsx,png,jpg

# ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

ุฎุทูุงุช ุงูุฅุนุฏุงุฏ:
1. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุนูู Supabase
2. ุชุดุบูู ูููุงุช ุงููุฌุฑุฉ ูู database/migrations/
3. ุงูุญุตูู ุนูู ููุงุชูุญ API ููุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ
4. ุฅุนุฏุงุฏ ุญุณุงุจ PayTabs ูููุฏููุนุงุช
5. ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
6. ุชุดุบูู npm install
7. ุชุดุบูู npm start`
        );

        // Development Setup
        this.addSection('ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุทููุฑ',
            `ูุชุทูุจุงุช ุงููุธุงู:
- Node.js 18+
- PostgreSQL 14+
- Redis (ุงุฎุชูุงุฑู ููุชุฎุฒูู ุงููุคูุช)
- Git

ุฎุทูุงุช ุงูุชุซุจูุช:

1. ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน:
git clone https://github.com/YOUR_USERNAME/finclick-ai-platform.git
cd finclick-ai-platform

2. ุชุซุจูุช ุงูุชุจุนูุงุช:
npm install

3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
# ุฅูุดุงุก ูุดุฑูุน ุนูู Supabase
# ุชุดุบูู ูููุงุช ุงููุฌุฑุฉ
psql -h your-supabase-host -U postgres -f database/migrations/001_initial_schema.sql
psql -h your-supabase-host -U postgres -f database/migrations/002_rls_security.sql

4. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
cp .env.example .env
# ุชุญุฑูุฑ ููู .env ูุฅุถุงูุฉ ุงูููู ุงูุตุญูุญุฉ

5. ุชุดุบูู ุงูุฎุงุฏู:
npm run dev

6. ูุชุญ ุงููุชุตูุญ ุนูู:
http://localhost:3000

ุฃูุงูุฑ ุงูุชุทููุฑ ุงููููุฏุฉ:
npm run dev          # ุชุดุบูู ุงูุฎุงุฏู ูุน ุฅุนุงุฏุฉ ุงูุชุญููู ุงูุชููุงุฆู
npm run test         # ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
npm run lint         # ูุญุต ุฌูุฏุฉ ุงูููุฏ
npm run build        # ุจูุงุก ุงููุดุฑูุน ููุฅูุชุงุฌ
npm run start        # ุชุดุบูู ุงูุฎุงุฏู ูู ูุถุน ุงูุฅูุชุงุฌ`
        );

        // Testing
        this.addSection('ุงูุงุฎุชุจุงุฑุงุช',
            `ุฅุทุงุฑ ุงูุงุฎุชุจุงุฑ:
- Jest ููุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
- Supertest ูุงุฎุชุจุงุฑ API
- Playwright ูุงุฎุชุจุงุฑ ุงููุงุฌูุฉ

ุฃููุงุน ุงูุงุฎุชุจุงุฑุงุช:

1. ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ (Unit Tests):
   - ุงุฎุชุจุงุฑ ุงููุญุฑูุงุช ุงููุงููุฉ
   - ุงุฎุชุจุงุฑ ุฏูุงู ุงูุชุญููู
   - ุงุฎุชุจุงุฑ ุงููุณุงุนุฏุงุช

2. ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู:
   - ุงุฎุชุจุงุฑ ูุณุงุฑุงุช API
   - ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุงุฎุชุจุงุฑ ุงููุตุงุฏูุฉ

3. ุงุฎุชุจุงุฑุงุช ุงููุงุฌูุฉ:
   - ุงุฎุชุจุงุฑ ุชุฏูู ุงููุณุชุฎุฏู
   - ุงุฎุชุจุงุฑ ุงูููุงุฐุฌ
   - ุงุฎุชุจุงุฑ ุงูุนูููุงุช ุงููุงููุฉ

ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช:
npm test                    # ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm run test:unit          # ุงูุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ููุท
npm run test:integration   # ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู
npm run test:e2e          # ุงุฎุชุจุงุฑุงุช ุงููุงุฌูุฉ
npm run test:coverage     # ุชูุฑูุฑ ุงูุชุบุทูุฉ

ูุนุงููุฑ ุงูุฌูุฏุฉ:
- ุชุบุทูุฉ 90%+ ููููุฏ ุงูุญุฑุฌ
- ุฌููุน ูุณุงุฑุงุช API ูุฎุชุจุฑุฉ
- ุงุฎุชุจุงุฑ ุงูุณููุงุฑูููุงุช ุงูุญุฏูุฉ
- ุงุฎุชุจุงุฑ ุงูุฃูุงู ูุงูุชุญูู`
        );

        // Deployment
        this.addSection('ุงููุดุฑ ุนูู ุงูุฅูุชุงุฌ',
            `ููุตุงุช ุงููุดุฑ ุงููุฏุนููุฉ:
- Vercel (ููุตู ุจูุง)
- Heroku
- DigitalOcean App Platform
- AWS Elastic Beanstalk

ุฎุทูุงุช ุงููุดุฑ ุนูู Vercel:

1. ุฑุจุท ุงููุณุชูุฏุน:
   - ุงูุฐูุงุจ ุฅูู vercel.com
   - Import Git Repository
   - ุงุฎุชูุงุฑ ุงููุณุชูุฏุน

2. ุฅุนุฏุงุฏุงุช ุงูุจูุงุก:
   Framework: Other
   Build Command: npm run build
   Output Directory: public
   Install Command: npm ci

3. ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
   - ุฅุถุงูุฉ ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ
   - ุงูุชุฃูุฏ ูู ุตุญุฉ ููุงุชูุญ API
   - ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

4. ุงููุดุฑ:
   - ุงูููุฑ ุนูู Deploy
   - ุงูุชุธุงุฑ ุงูุชูุงู ุงูุจูุงุก
   - ุงุฎุชุจุงุฑ ุงููููุน

ูุตุงุฆุญ ูููุดุฑ:
- ุงุณุชุฎุฏุงู CI/CD Pipeline
- ุงุฎุชุจุงุฑ ุงูุจูุฆุฉ ูุจู ุงููุดุฑ
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุจุนุฏ ุงููุดุฑ
- ุฅุนุฏุงุฏ ุชูุจููุงุช ููุฃุฎุทุงุก

ูุฑุงูุจุฉ ุงููุธุงู:
- ุชุณุฌูู ุงูุฃุฎุทุงุก
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุชุชุจุน ุงูููุงููุณ
- ุชูุจููุงุช ุงูุญุงูุฉ`
        );

        // Security
        this.addSection('ุงูุฃูุงู ูุงูุญูุงูุฉ',
            `ุฅุฌุฑุงุกุงุช ุงูุฃูุงู ุงููุทุจูุฉ:

1. ุงููุตุงุฏูุฉ ูุงูุชุฎููู:
   - JWT ูููุตุงุฏูุฉ
   - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจู BCrypt
   - ูุนุฏู ูุญุฏูุฏ ููุทูุจุงุช (Rate Limiting)
   - ุฌูุณุงุช ุขููุฉ

2. ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   - Row Level Security (RLS)
   - ุงุณุชุนูุงูุงุช ูุญุถุฑุฉ (Prepared Statements)
   - ุชุฏููู ุฌููุน ุงูุนูููุงุช
   - ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

3. ุญูุงูุฉ ุงููููุงุช:
   - ูุญุต ุฃููุงุน ุงููููุงุช
   - ุญุฏ ุฃูุตู ูุญุฌู ุงูููู
   - ูุณุญ ูุถุงุฏ ููููุฑูุณุงุช
   - ุชุฎุฒูู ุขูู

4. ุญูุงูุฉ ุงูุดุจูุฉ:
   - HTTPS ุฅุฌุจุงุฑู
   - ุฑุคูุณ ุงูุฃูุงู (Security Headers)
   - CORS ูุญููู
   - ุญูุงูุฉ ูู CSRF

5. ูุฑุงูุจุฉ ุงูุฃูุงู:
   - ุชุณุฌูู ูุญุงููุงุช ุงูุงุฎุชุฑุงู
   - ุชุชุจุน ุงูุฃูุดุทุฉ ุงููุดุจููุฉ
   - ุชูุจููุงุช ุงูุฃูุงู
   - ุชุญููู ุงูุณููู

ููุงุฆู ุงูุชุญูู ุงูุฃูููุฉ:
โก ุชุญุฏูุซ ุงูุชุจุนูุงุช ุจุงูุชุธุงู
โก ูุญุต ุงูุซุบุฑุงุช ุงูุฃูููุฉ
โก ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ
โก ุฎุทุฉ ุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ
โก ุชุฏุฑูุจ ูุฑูู ุงูุฃูุงู`
        );

        // API Reference
        this.addSection('ูุฑุฌุน ูุงุฌูุงุช ุงูุจุฑูุฌุฉ API',
            `ุงููุงุฌูุงุช ุงูุฃุณุงุณูุฉ:

ุงููุตุงุฏูุฉ:
POST /api/auth/register     # ุงูุชุณุฌูู
POST /api/auth/login        # ุชุณุฌูู ุงูุฏุฎูู
POST /api/auth/logout       # ุชุณุฌูู ุงูุฎุฑูุฌ
GET  /api/auth/profile      # ุงูููู ุงูุดุฎุตู

ุฅุฏุงุฑุฉ ุงููุซุงุฆู:
POST /api/documents/upload          # ุฑูุน ูุซููุฉ
GET  /api/documents                 # ูุงุฆูุฉ ุงููุซุงุฆู
GET  /api/documents/:id             # ุชูุงุตูู ูุซููุฉ
DELETE /api/documents/:id           # ุญุฐู ูุซููุฉ

ุงูุชุญููู ุงููุงูู:
POST /api/analysis/create           # ุฅูุดุงุก ุชุญููู ุฌุฏูุฏ
GET  /api/analysis/:id              # ุชูุงุตูู ุงูุชุญููู
GET  /api/analysis/types            # ุฃููุงุน ุงูุชุญููู
POST /api/analysis/calculate        # ุชุดุบูู ุงูุญุณุงุจุงุช

ุงูุชูุงุฑูุฑ:
GET  /api/reports/:analysisId       # ุนุฑุถ ุงูุชูุฑูุฑ
POST /api/reports/generate          # ุฅูุชุงุฌ ุชูุฑูุฑ ุฌุฏูุฏ
GET  /api/reports/formats           # ุงูุตูุบ ุงููุชุงุญุฉ
GET  /api/reports/download/:id      # ุชุญููู ุงูุชูุฑูุฑ

ุงููุฏููุนุงุช:
POST /api/payments/create           # ุฅูุดุงุก ุฏูุนุฉ
GET  /api/payments/callback         # ุฑุฏ ุงุชุตุงู PayTabs
GET  /api/payments/status/:id       # ุญุงูุฉ ุงูุฏูุนุฉ
POST /api/subscriptions/upgrade     # ุชุฑููุฉ ุงูุงุดุชุฑุงู

ุงูุฅุฏุงุฑุฉ (Admin):
GET  /api/admin/users               # ูุงุฆูุฉ ุงููุณุชุฎุฏููู
GET  /api/admin/analytics           # ุฅุญุตุงุฆูุงุช ุงููุธุงู
POST /api/admin/settings            # ุฅุนุฏุงุฏุงุช ุงููุธุงู
GET  /api/admin/logs                # ุณุฌูุงุช ุงููุธุงู

ุฑููุฒ ุงูุญุงูุฉ:
200 - ูุฌุญ ุงูุทูุจ
201 - ุชู ุงูุฅูุดุงุก ุจูุฌุงุญ
400 - ุฎุทุฃ ูู ุงูุทูุจ
401 - ุบูุฑ ูุตุฑุญ
403 - ูุฑููุถ
404 - ุบูุฑ ููุฌูุฏ
500 - ุฎุทุฃ ุฎุงุฏู`
        );

        // Support and Maintenance
        this.addSection('ุงูุฏุนู ูุงูุตูุงูุฉ',
            `ูุนูููุงุช ุงูุงุชุตุงู:
ุงููุทูุฑ: Razan Ahmed Tawfik
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: razantaofek@gmail.com
ุงููููุน: https://finclick-ai.vercel.app

ุงูุฏุนู ุงูููู:
- ุฏุนู 24/7 ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฏููู ุงููุณุชุฎุฏู ุงูุดุงูู
- ููุฏูููุงุช ุชุนููููุฉ
- ููุชุฏู ุงููุณุชุฎุฏููู

ุฌุฏูู ุงูุตูุงูุฉ:
- ุชุญุฏูุซุงุช ุฃูููุฉ ุดูุฑูุฉ
- ุชุญุฏูุซุงุช ุงููููุฒุงุช ูู 3 ุฃุดูุฑ
- ูุณุฎ ุงุญุชูุงุทูุฉ ููููุฉ
- ูุฑุงูุจุฉ ูุณุชูุฑุฉ ููุฃุฏุงุก

ุฎุฏูุงุช ุฅุถุงููุฉ:
- ุชุฎุตูุต ุงูุชูุงุฑูุฑ
- ุชุฏุฑูุจ ุงููุณุชุฎุฏููู
- ุงุณุชุดุงุฑุงุช ูุงููุฉ
- ุชุทููุฑ ูููุฒุงุช ุฎุงุตุฉ

ุงุชูุงููุฉ ูุณุชูู ุงูุฎุฏูุฉ (SLA):
- ููุช ุงูุชุดุบูู 99.9%
- ุฒูู ุงูุงุณุชุฌุงุจุฉ ุฃูู ูู 2 ุซุงููุฉ
- ุญู ุงููุดุงูู ุฎูุงู 24 ุณุงุนุฉ
- ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุฎูุงู ุณุงุนุฉ

ุฎุทุฉ ุงูููู:
- ุชุทููุฑ ุชุทุจูู ุงูุฌูุงู
- ุชุญููู ุงูุจูุงูุงุช ุงูุถุฎูุฉ
- ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู
- ุชูุณูุน ุงูุฃุณูุงู ุงูุฅูููููุฉ`
        );

        // Footer
        this.addSection('ุฎุงุชูุฉ',
            `ููุตุฉ FinClick.AI ุฌุงูุฒุฉ ุจุงููุงูู ููุงุณุชุฎุฏุงู ุงูุชุฌุงุฑู ูุงููุดุฑ.
ุชุญุชูู ุนูู ุฌููุน ุงููููุฒุงุช ุงููุทููุจุฉ ูููุตุฉ SaaS ุงุญุชุฑุงููุฉ:

โ 180+ ููุน ุชุญููู ูุงูู ูุน ุญุณุงุจุงุช ุญููููุฉ
โ ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู (OpenAI + Gemini)
โ ูุธุงู ุฏูุน PayTabs ูุชูุงูู
โ ุชูุงุฑูุฑ ุงุญุชุฑุงููุฉ ุจุนุฏุฉ ุตูุบ
โ ุฃูุงู ูุชูุฏู ูุน RLS
โ ูุงุฌูุฉ ุซูุงุฆูุฉ ุงููุบุฉ
โ CI/CD pipeline ุฌุงูุฒ
โ ุชูุซูู ุดุงูู ูููุตู

ุงูููุตุฉ ูุญููุฉ ูุฌููุน ูุชุทูุจุงุช ุงูุนููู ูุฌุงูุฒุฉ ููุจูุน ูุงูุชุณููู.

ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุซูู ุจูุงุณุทุฉ ุฑุฒุงู ุฃุญูุฏ ุชูููู - ูุทูุฑ ููุงูู FinClick.AI
https://finclick.ai

ุญููู ุงููุดุฑ ยฉ 2025 - Razan Ahmed Tawfik
ุฌููุน ุงูุญููู ูุญููุธุฉ`
        );

        return this.documentation;
    }

    async saveToFile(filename = 'documentation.txt') {
        const content = this.generate();
        const filePath = path.join(process.cwd(), filename);

        try {
            await fs.promises.writeFile(filePath, content, 'utf8');
            console.log('โ Documentation saved to:', filePath);
            return filePath;
        } catch (error) {
            console.error('โ Error saving documentation:', error);
            throw error;
        }
    }
}

// Run the generator
async function main() {
    console.log('๐ Generating FinClick.AI Documentation...');

    const generator = new FinClickDocumentationGenerator();
    await generator.saveToFile('documentation.txt');

    console.log('โ Documentation Ready');
    console.log('๐ File: documentation.txt created successfully');
    console.log('๐ Content: Comprehensive system documentation in Arabic & English');
}

if (require.main === module) {
    main().catch(console.error);
}

module.exports = FinClickDocumentationGenerator;